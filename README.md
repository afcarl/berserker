# Berserker

Repository data collection pipeline: reaing the output of [Borges](https://github.com/src-d/borges) and transform every fgile to UAST though [Bblfsh](https://github.com/bblfsh/server)


## Arhitecture

It consists of 2 parts that communicate though gRPC:
 - Apache Spark `normalizer` job in Scala
 - `extractor` Golang binary for Git access


### Extractor
 - `model.go` and `service.go` contain main interface and service definition files
 - [proteus](https://github.com/src-d/proteus/) used to generate a Protobuf IDL `.proto` files, checked-in under `proto/`
 - `server.proteus.go` and  `generated.pb.go` contain Go code, generated by `protoc`
 - build by `glide` + `go build`


### Normalizer
 - All code under `./normalizer`
 - `normalizer/src/main/scala/github.com.srcd.berserker.extractor.generated` has all [ScalaPB](https://scalapb.github.io/grpc.html) generated code
 - build by `sbt`
